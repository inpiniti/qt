---
description: 규칙 및 설계도 자동 동기화 워크플로우
---

# 규칙 동기화 워크플로우

이 워크플로우는 매 세션 시작 시 또는 작업 전에 규칙과 설계도를 자동으로 확인하고 동기화합니다.

## 자동 실행 조건

다음 상황에서 이 워크플로우가 트리거됩니다:
1. 새로운 기능 요청 시
2. 코드 수정 요청 시
3. 명시적으로 `/sync-rules` 호출 시

## 동기화 단계

### 1. 설계도 로드
파일: `README.md`
- 프로젝트 개요 및 기술 스택 확인
- 화면 레이아웃 구조 파악
- 주요 기능 및 구현 명세 확인
- 자동 매매 시스템 구조 확인

### 2. 개발 규칙 로드  
파일: `GEMINI.md`
- 프로젝트 핵심 규칙 확인
  - 감성 분석 필수 포함
  - CORS 프록시 필수 사용
- React 개발 규칙 확인
  - 순수성, 불변성, Hook 규칙
- UI 컴포넌트 규칙 확인
  - shadcn/ui 사용
  - Native Dialog 사용 금지
- API 호출 규칙 확인
  - 환경별 프록시 엔드포인트

### 3. KIS API 문서 확인 (조건부)
폴더: `kis/`
- 한국투자증권 API 관련 작업 시에만 해당 문서 참조
- API 호출 형식, 헤더, 파라미터 확인

## 규칙 위반 체크

### 필수 체크 항목
1. **감성 분석 누락 금지**: 시장 분석 기능에 FinBERT 연동 필수
2. **직접 외부 API 호출 금지**: 모든 외부 API는 프록시 경유
3. **Native Dialog 사용 금지**: alert, confirm, prompt 대신 shadcn/ui 사용
4. **상태 직접 변경 금지**: 항상 setter 함수 사용

### 위반 시 대응
- 해당 규칙 인용하여 올바른 구현 방법 안내
- 수정된 코드 제안

## 사용 예시

```
사용자: "새로운 차트 기능을 추가해줘"

에이전트 동작:
1. /sync-rules 자동 실행
2. README.md에서 Chart Viewer 섹션 확인
3. GEMINI.md에서 React/UI 규칙 확인
4. 규칙에 맞게 기능 구현
5. 완료 후 README.md 업데이트
```
