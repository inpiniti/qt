---
name: functional-programming
description: 파이썬 기반의 함수형 프로그래밍 가이드. 이터레이터, 제너레이터, itertools, functools 등을 활용하여 상태 변경을 최소화하고 모듈성, 결합성, 테스트 용이성을 높이는 프로그래밍 작성을 안내합니다.
---

# 함수형 프로그래밍 (Functional Programming) Skill

이 스킬은 **A. M. Kuchling**의 "Functional Programming HOWTO"를 기반으로 현대적인 함수형 프로그래밍 기법을 안내합니다.

## 핵심 철학

함수형 프로그래밍은 문제를 **함수들의 세트**로 분해합니다.
이상적으로 함수는 입력을 받아 출력을 생성할 뿐, **내부 상태를 수정하거나 부작용(Side Effect)을 발생시키지 않습니다.**

### 장점
1.  **모듈성 (Modularity)**: 작은 함수로 문제를 분할하여 관리하기 쉽습니다.
2.  **테스트 용이성 (Testability)**: 외부 상태에 의존하지 않으므로 단위 테스트가 간편합니다.
3.  **결합성 (Composability)**: 다양한 입력/출력을 처리하는 일반적인 함수들을 조합하여 재사용성을 높입니다.

---

## 🛠 핵심 도구 및 패턴

### 1. 이터레이터 (Iterators)
- 데이터 스트림을 나타내는 객체로, `__next__()` 메서드를 통해 데이터를 순차적으로 접근합니다.
- `iter()` 함수로 이터레이터를 생성하고, `next()`로 값을 가져옵니다.
- **활용**: 리스트, 튜플, 딕셔너리, 파일 I/O 등에서 기본적으로 사용됩니다.

### 2. 컴프리헨션 및 제너레이터 표현식
- 리스트 컴프리헨션: `[func(x) for x in data if condition]`
- 제너레이터 표현식: `(func(x) for x in data if condition)`
- **원칙**: 메모리 효율성을 위해 대용량 데이터 처리 시 **제너레이터**를 우선 고려합니다.

### 3. 제너레이터 (Generators)
- `yield` 키워드를 사용하여 실행 상태를 유지한 채 값을 순차적으로 반환하는 함수입니다.
- **코루틴 (Coroutines)**: `yield`를 표현식 (`val = (yield)`)으로 사용하여 데이터를 주고받을 수 있습니다. (`send()`, `throw()`, `close()`)

### 4. 고차 함수 (Higher-Order Functions) - `functools` & Built-ins
- `map(func, iter)`: 모든 요소에 함수 적용.
- `filter(predicate, iter)`: 조건에 맞는 요소 필터링.
- `functools.reduce(func, iter)`: 누적 연산 수행. (단, 단순 합계 등은 `sum()`이나 루프가 더 명확할 수 있음)
- `functools.partial(func, ...)`: 함수의 인자를 고정하여 새로운 함수 생성.

### 5. `itertools` 모듈 활용
- **무한 이터레이터**: `count()`, `cycle()`, `repeat()`
- **연결 및 조합**: `chain()`, `zip()`, `combinations()`, `permutations()`
- **필터링 및 슬라이싱**: `islice()`, `filterfalse()`, `takewhile()`, `dropwhile()`
- **그룹화**: `groupby()`

---

## 📜 코딩 가이드라인 (Best Practices)

1.  **순수 함수 지향**: 가능한 한 부작용(I/O, 전역 변수 수정 등)을 피하고, 입력에만 의존하여 출력을 만듭니다.
2.  **불변성 유지**: 데이터 구조를 직접 변경하는 대신, 변형된 새로운 데이터를 반환합니다.
3.  **작은 함수 작성**: `lambda` 사용은 간단한 경우로 제한하고, 복잡한 로직은 명확한 이름을 가진 `def` 함수로 작성합니다.
   > 팁: 람다가 복잡해지면 `def`로 변환하고 적절한 이름을 붙이세요.
4.  **명시적 루프 vs 고차 함수**: `reduce` 등의 사용이 코드를 난해하게 만든다면, 명시적인 `for` 루프나 제너레이터 표현식을 사용하는 것이 좋습니다.

## 🚀 적용 방법

이 스킬을 사용하는 개발 워크플로우에서는 다음을 준수합니다:
- **상태 관리**: 전역 변수 대신 상태를 함수 인자로 전달하거나, 클래스 내부 상태 관리를 최소화합니다.
- **데이터 처리**: `itertools` 파이프라인을 구축하여 데이터를 효율적으로 변환합니다.
- **디버깅**: 문제가 발생하면 파이프라인의 중간 단계 입/출력을 검증합니다.
